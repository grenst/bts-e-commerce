{"version":3,"file":"confirmation-modal-CeF43U1P.js","sources":["../../src/components/layout/modal/modal-container.ts","../../src/components/layout/modal/confirmation-modal.ts"],"sourcesContent":["import './modal.scss';\nimport {\n  createEl as createElement,\n  body,\n} from '../../../utils/element-utilities';\n\nfunction createModalContainer(addClasses: string[] = []): HTMLDivElement {\n  const modalContainer = createElement({\n    parent: body,\n    classes: ['modal-container', ...addClasses],\n  });\n\n  if (!(modalContainer instanceof HTMLDivElement)) {\n    throw new TypeError('Created element is not an HTMLDivElement.');\n  }\n\n  return modalContainer;\n}\n\nexport default createModalContainer;\n","import { createEl as createElement } from '../../../utils/element-utilities';\nimport createModalContainer from './modal-container';\n\nexport default function createConfirmationModal(\n  message: string,\n  confirmText: string,\n  cancelText: string\n): {\n  element: HTMLDivElement;\n  onConfirm: (callback: () => void) => void;\n  onCancel: (callback: () => void) => void;\n  close: () => void;\n} {\n  const modalContainer = createModalContainer();\n  const modalContent = createElement({\n    tag: 'div',\n    classes: ['modal-content', 'confirmation-modal'],\n    parent: modalContainer,\n  });\n\n  // Add event listener to close when clicking outside the modal content\n  modalContainer.addEventListener('click', (event) => {\n    if (event.target === modalContainer) {\n      if (cancelCallback) cancelCallback();\n      close();\n    }\n  });\n\n  createElement({\n    tag: 'p',\n    classes: ['confirmation-message'],\n    text: message,\n    parent: modalContent,\n  });\n\n  const buttonContainer = createElement({\n    tag: 'div',\n    classes: ['confirmation-buttons'],\n    parent: modalContent,\n  });\n\n  const confirmButton = createElement({\n    tag: 'button',\n    classes: ['confirm-button'],\n    text: confirmText,\n    parent: buttonContainer,\n  });\n\n  const cancelButton = createElement({\n    tag: 'button',\n    classes: ['cancel-button'],\n    text: cancelText,\n    parent: buttonContainer,\n  });\n\n  let confirmCallback: (() => void) | undefined = undefined;\n  let cancelCallback: (() => void) | undefined = undefined;\n\n  confirmButton.addEventListener('click', () => {\n    if (confirmCallback) confirmCallback();\n    close();\n  });\n\n  cancelButton.addEventListener('click', () => {\n    if (cancelCallback) cancelCallback();\n    close();\n  });\n\n  function close() {\n    modalContainer.remove();\n    document.dispatchEvent(new CustomEvent('cartUpdated'));\n  }\n\n  return {\n    element: modalContainer,\n    onConfirm: (callback) => (confirmCallback = callback),\n    onCancel: (callback) => (cancelCallback = callback),\n    close,\n  };\n}\n"],"names":["createModalContainer","addClasses","modalContainer","createElement","body","createConfirmationModal","message","confirmText","cancelText","modalContent","event","cancelCallback","close","buttonContainer","confirmButton","cancelButton","confirmCallback","callback"],"mappings":"+CAMA,SAASA,EAAqBC,EAAuB,GAAoB,CACvE,MAAMC,EAAiBC,EAAc,CACnC,OAAQC,EACR,QAAS,CAAC,kBAAmB,GAAGH,CAAU,CAAA,CAC3C,EAEG,GAAA,EAAEC,aAA0B,gBACxB,MAAA,IAAI,UAAU,2CAA2C,EAG1D,OAAAA,CACT,CCdwB,SAAAG,EACtBC,EACAC,EACAC,EAMA,CACA,MAAMN,EAAiBF,EAAqB,EACtCS,EAAeN,EAAc,CACjC,IAAK,MACL,QAAS,CAAC,gBAAiB,oBAAoB,EAC/C,OAAQD,CAAA,CACT,EAGcA,EAAA,iBAAiB,QAAUQ,GAAU,CAC9CA,EAAM,SAAWR,IACfS,GAA+BA,EAAA,EAC7BC,EAAA,EACR,CACD,EAEaT,EAAA,CACZ,IAAK,IACL,QAAS,CAAC,sBAAsB,EAChC,KAAMG,EACN,OAAQG,CAAA,CACT,EAED,MAAMI,EAAkBV,EAAc,CACpC,IAAK,MACL,QAAS,CAAC,sBAAsB,EAChC,OAAQM,CAAA,CACT,EAEKK,EAAgBX,EAAc,CAClC,IAAK,SACL,QAAS,CAAC,gBAAgB,EAC1B,KAAMI,EACN,OAAQM,CAAA,CACT,EAEKE,EAAeZ,EAAc,CACjC,IAAK,SACL,QAAS,CAAC,eAAe,EACzB,KAAMK,EACN,OAAQK,CAAA,CACT,EAED,IAAIG,EACAL,EAEUG,EAAA,iBAAiB,QAAS,IAAM,CACxCE,GAAiCA,EAAA,EAC/BJ,EAAA,CAAA,CACP,EAEYG,EAAA,iBAAiB,QAAS,IAAM,CACvCJ,GAA+BA,EAAA,EAC7BC,EAAA,CAAA,CACP,EAED,SAASA,GAAQ,CACfV,EAAe,OAAO,EACtB,SAAS,cAAc,IAAI,YAAY,aAAa,CAAC,CAAA,CAGhD,MAAA,CACL,QAASA,EACT,UAAYe,GAAcD,EAAkBC,EAC5C,SAAWA,GAAcN,EAAiBM,EAC1C,MAAAL,CACF,CACF"}